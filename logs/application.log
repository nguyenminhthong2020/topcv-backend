[INFO] 2025-02-26 22:37:32 - HV000001: Hibernate Validator 8.0.2.Final
[INFO] 2025-02-26 22:37:32 - Starting JobApplication using Java 21.0.5 with PID 15844 (D:\2024\ivc\github\topcv-backend\target\classes started by ACER in D:\2024\ivc\github\topcv-backend)
[INFO] 2025-02-26 22:37:32 - No active profile set, falling back to 1 default profile: "default"
[INFO] 2025-02-26 22:37:32 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[INFO] 2025-02-26 22:37:32 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[INFO] 2025-02-26 22:37:32 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO] 2025-02-26 22:37:32 - Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
[INFO] 2025-02-26 22:37:33 - Tomcat initialized with port 8090 (http)
[INFO] 2025-02-26 22:37:33 - Initializing ProtocolHandler ["http-nio-8090"]
[INFO] 2025-02-26 22:37:33 - Starting service [Tomcat]
[INFO] 2025-02-26 22:37:33 - Starting Servlet engine: [Apache Tomcat/10.1.36]
[INFO] 2025-02-26 22:37:33 - Initializing Spring embedded WebApplicationContext
[INFO] 2025-02-26 22:37:33 - Root WebApplicationContext: initialization completed in 1399 ms
[INFO] 2025-02-26 22:37:33 - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO] 2025-02-26 22:37:33 - HHH000412: Hibernate ORM core version 6.6.8.Final
[INFO] 2025-02-26 22:37:33 - HHH000026: Second-level cache disabled
[INFO] 2025-02-26 22:37:34 - No LoadTimeWeaver setup: ignoring JPA class transformer
[INFO] 2025-02-26 22:37:34 - HikariPool-1 - Starting...
[INFO] 2025-02-26 22:37:34 - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@51bff5bc
[INFO] 2025-02-26 22:37:34 - HikariPool-1 - Start completed.
[INFO] 2025-02-26 22:37:34 - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[INFO] 2025-02-26 22:37:35 - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[DEBUG] 2025-02-26 22:37:35 - 
    create table jobs (
        id bigint generated by default as identity,
        active boolean not null,
        created_at timestamp(6) with time zone,
        created_by varchar(255),
        description TEXT,
        end_date timestamp(6) with time zone,
        level smallint check (level between 0 and 4),
        location varchar(255),
        name varchar(255),
        quantity integer not null,
        salary float(53) not null,
        start_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        updated_by varchar(255),
        primary key (id)
    )
[WARN] 2025-02-26 22:37:35 - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table jobs (
        id bigint generated by default as identity,
        active boolean not null,
        created_at timestamp(6) with time zone,
        created_by varchar(255),
        description TEXT,
        end_date timestamp(6) with time zone,
        level smallint check (level between 0 and 4),
        location varchar(255),
        name varchar(255),
        quantity integer not null,
        salary float(53) not null,
        start_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        updated_by varchar(255),
        primary key (id)
    )" via JDBC [ERROR: permission denied for schema public
  Position: 20]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table jobs (
        id bigint generated by default as identity,
        active boolean not null,
        created_at timestamp(6) with time zone,
        created_by varchar(255),
        description TEXT,
        end_date timestamp(6) with time zone,
        level smallint check (level between 0 and 4),
        location varchar(255),
        name varchar(255),
        quantity integer not null,
        salary float(53) not null,
        start_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        updated_by varchar(255),
        primary key (id)
    )" via JDBC [ERROR: permission denied for schema public
  Position: 20]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:316)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.Job.JobApplication.main(JobApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERROR: permission denied for schema public
  Position: 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
[DEBUG] 2025-02-26 22:37:35 - 
    create table users (
        id bigint generated by default as identity,
        birthday timestamp(6),
        email varchar(255) not null,
        gender varchar(255) check (gender in ('MALE','FEMALE','OTHERS')),
        name varchar(255) not null,
        password varchar(255) not null,
        role varchar(255) check (role in ('ADMIN','COMPANY','USER','PREMIUM_USER')),
        primary key (id)
    )
[WARN] 2025-02-26 22:37:35 - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table users (
        id bigint generated by default as identity,
        birthday timestamp(6),
        email varchar(255) not null,
        gender varchar(255) check (gender in ('MALE','FEMALE','OTHERS')),
        name varchar(255) not null,
        password varchar(255) not null,
        role varchar(255) check (role in ('ADMIN','COMPANY','USER','PREMIUM_USER')),
        primary key (id)
    )" via JDBC [ERROR: permission denied for schema public
  Position: 20]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table users (
        id bigint generated by default as identity,
        birthday timestamp(6),
        email varchar(255) not null,
        gender varchar(255) check (gender in ('MALE','FEMALE','OTHERS')),
        name varchar(255) not null,
        password varchar(255) not null,
        role varchar(255) check (role in ('ADMIN','COMPANY','USER','PREMIUM_USER')),
        primary key (id)
    )" via JDBC [ERROR: permission denied for schema public
  Position: 20]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:316)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.Job.JobApplication.main(JobApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERROR: permission denied for schema public
  Position: 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
[DEBUG] 2025-02-26 22:37:35 - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
[WARN] 2025-02-26 22:37:35 - SQL Warning Code: 0, SQLState: 00000
[WARN] 2025-02-26 22:37:35 - relation "users" does not exist, skipping
[DEBUG] 2025-02-26 22:37:35 - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
[WARN] 2025-02-26 22:37:35 - SQL Warning Code: 0, SQLState: 00000
[WARN] 2025-02-26 22:37:35 - relation "users" does not exist, skipping
[INFO] 2025-02-26 22:37:35 - Initialized JPA EntityManagerFactory for persistence unit 'default'
[INFO] 2025-02-26 22:37:35 - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
[WARN] 2025-02-26 22:37:35 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[WARN] 2025-02-26 22:37:35 - One of the patterns in [/api/v1/auth/**, /storage/**, /api/v1/jobs/**, api/v1/companies/**, api/v1/email/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
[DEBUG] 2025-02-26 22:37:35 - 6 mappings in 'requestMappingHandlerMapping'
[DEBUG] 2025-02-26 22:37:35 - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[DEBUG] 2025-02-26 22:37:36 - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[DEBUG] 2025-02-26 22:37:36 - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[INFO] 2025-02-26 22:37:36 - LiveReload server is running on port 35729
[INFO] 2025-02-26 22:37:36 - Starting ProtocolHandler ["http-nio-8090"]
[INFO] 2025-02-26 22:37:36 - Tomcat started on port 8090 (http) with context path '/'
[INFO] 2025-02-26 22:37:36 - Started JobApplication in 4.46 seconds (process running for 4.862)
